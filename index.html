<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" type="image/x-icon" href="template/logo_tno.png">
    <title>TNO Creator</title>

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/jquery.ui.touch-punch.min.js"></script>
    <script src="js/html-to-image.min.js"></script>
    <script src="js/save-svg-as-png.min.js"></script>
    <script src="index.js"></script>
    <script>
        $(function(){$("#tabs").tabs();});
        $(function(){$(".draggable").draggable();});
        $(function(){$(".resizable").resizable();});
        $(function(){$(".dropdown").selectmenu();});
    </script>
    <link rel="stylesheet" href="js/jquery-ui.css">
    <link rel="stylesheet" href="index.css">
    <link rel="preload" as="font" href="/fonts/BOMBARD_.ttf" crossorigin="anonymous">
    <link rel="preload" as="font" href="/fonts/Aldrich-Regular.ttf" crossorigin="anonymous">
    <link rel="preload" as="font" href="/fonts/FZRuiZHJW.ttf" crossorigin="anonymous">
    <link rel="preload" as="font" href="/fonts/OldTyperNr.ttf" crossorigin="anonymous">
    <link rel="preload" as="font" href="/fonts/FZWH.TTF" crossorigin="anonymous">
</head>
<body style="background-color:rgb(51, 51, 51)">
<div id="main" style="user-select: none; position:absolute;z-index: 8;">
    <div>
        <img src="template/diplo_leader_frame.png" style="position: relative;z-index: 1;">
        <div style="position:absolute; top: 15px; left: 22px; height: 55px; width: 90px; z-index: 2;">
           <img src="template/flag_overlay.png" style="position:absolute; top:0; left:0;z-index: 1;height: inherit; width: inherit; opacity: 95%;">
           <img id="flagpic" class="pic" src="preset/GER.png" style="position:absolute; top:0; left:0; height: inherit; width: inherit;">
        </div>
        <div style="position:absolute; top: 79px; left: 7px; height: 160px; width: 120px; z-index: 0;">
            <img src="template/Leader_Background.png" style="position:absolute; top:0; left:0; height: inherit; width: inherit;">
        </div>
        <div style="position:absolute; top: 79px; left: 7px; height: 160px; width: 120px; z-index: 0;">
            <img id="portraitpic" class="pic" src="preset/Portrait_GER_Reichstag_Emergency_Council.png" style="position:absolute; top:0; left:0; height: inherit; width: inherit;">
        </div>
        
    </div>

    <div>
        <img src="template/diplo_upper_win_bg.png" style="position: absolute;z-index: 2; left: 125px; top: 4px;">
        <div style="position:absolute; top: 42px; left: 177px; z-index: 3;display: flex; justify-content: center; align-items: center;" >
            <img id="ideologypic" class="pic" src="preset/national_socialism_group.png" style="position:absolute;">
        </div>
        <div style="position:absolute; top: 42px; left: 488px; z-index: 3;display: flex; justify-content: center; align-items: center;" >
            <img id="factionpic" class="pic" src="preset/Leader-Einheitspakt.png" style="position:absolute;scale: 0.7;">
        </div>
        <div style="position:absolute; top: 220px; left: 373px; z-index: 3;display: flex; justify-content: center; align-items: center;" >
            <img src="template/pol_goal_progress_frame.png" style="position:absolute;">
            <img src="template/diplo_goal_button.png" style="position:absolute; top: -50px;">
        </div>
        <div style="position:absolute; top: 217px; left: 255px; z-index: 3;" >
            <img id="progressbar" src="template/pol_goal_progress.png" style="position:absolute; width: 0px;height: 6px;">
        </div>
        <div style="position:absolute; top: 202px; left: 178px; z-index: 3;display: flex; justify-content: center; align-items: center;" >
            <img id="focuspic" class="pic" src="preset/goal_unknown.png" style="position:absolute;scale: 0.9;">
        </div>
        <div id="piechartparent" style="position:absolute; top: 74px; left: 128px; z-index: 3;display: flex; justify-content: center; align-items: center;" >
            <img src="template/bck_shadow.png" style="position:absolute;scale: 0.6;z-index: 0;">
            <div id="piechart" style="width: 100px;height: 100px; border-radius: 50%;background:none; scale: 0.6;z-index: 4;"></div>
            <img src="template/pol_piechart_overlay_63x63.png" style="position:absolute;scale: 0.45;z-index: 5;">
        </div>
        <div style="z-index: 3;position: absolute; left: 220px; top: 5px; inline-size: 1000px; color: #cccccc;font-family:Bombardier,FZWen; font-size: 20px; vertical-align:middle;">
            <p id="country" style="position: absolute; top: -10px;">大日耳曼国</p>
            <p id="factiontext" style="position: absolute; top: 8px;">团结协定</p>
            <p id="leader" style="position: absolute; top: 27px">国会紧急委员会</p>
        </div>
        <div style="position: absolute; top:85px;left: 238px; inline-size: 1000px; font-family:Aldrich,FZRui;color: #b2c9c2; font-size: 21px;z-index: 3; vertical-align: middle;">
            <p id="party" style="position: absolute; top: -10px;">纳粹党</p>
            <p id="ideologytext" style="position: absolute; top: 15px;">国家社会主义</p>
            <p id="election" style="position: absolute; top: 40px;">无选举</p>
            <div style="position:absolute; inline-size: 260px;display: flex; left: 6px; top:112px; justify-content: center; align-items: center;">
                <p id="focustext" style="position: absolute; text-align: center;">帝国的遗产</p>
            </div>
        </div>
    </div>

</div>

<div class="draggable" id="econ" style=" position: absolute; left: 522px;top: 14px; z-index: 4;user-select: none;" onclick="dragElement(this)" ondrag="dragElement(this)">
        <img src="template/diplo_econ_bg.png" style="position: relative;z-index: 2;margin-left: 7px;">
        <div style="position:absolute; top: 35px; left: 160px; z-index: 3;display: flex; justify-content: center; align-items: center;" >
            <img id="econsubpic" class="pic" src="preset/Gelenkte_Wirtschaft.png" style="position:absolute;">
        </div>
        <div style="position:absolute; top: 35px; left: 220px; z-index: 3;display: flex; justify-content: center; align-items: center;" >
            <img id="econpic" class="pic" src="preset/EHP_GER.png" style="position:absolute;">
        </div>
        <div style="position: absolute; left: 23px; top: -5px;">
        <p id="economyen" style="display: none;font-family:Bombardier,FZWen; font-size: 20px; color:#cccccc; position: absolute; z-index: 3; inline-size: 80px;">Economy</p>
        <p id="economycn" style="font-family:Bombardier,FZWen; font-size: 20px; color:#cccccc; position: absolute; z-index: 3; inline-size: 80px; top: -2px; ">经济</p>
    </div>
</div>


<div class="draggable" id="newswindow" style="position: absolute; left: 910px;top: 180px; z-index: 4;user-select: none;" onclick="dragElement(this)" ondrag="dragElement(this)">
    <img src="template/news/event_news_bg.png" style="position: relative;">
    <div style="position:absolute;  height: 70px; width:480px;top: 20px; left: 25px;">
        <img id="headerpic" class="pic" src="preset/nazist-Germany.png" style="position:absolute; top:0; left:0; height: inherit; width: inherit;">
    </div>
    <div style="position:absolute;position:absolute; height: 420px; width:162px;top: 140px; left: 25px;">
        <img id="newspic" class="pic" src="preset/GER_german_civil_war.png" style="position:absolute; top:0; left:0; height: inherit; width: inherit;">
    </div>
    <button id="newsbutton" onclick="document.getElementById('sfxcheck').play();" style="position:absolute; top: 500px; left: 163px;transition: 0.2s; background: url('template/news/event_option_entry.png') no-repeat; border: none; width: 352px; height: 52px; font-family:Type;font-size: 15px;color: #000000;" onmouseover="this.style.opacity = 0.8" onmouseleave="this.style.opacity = 1">帝国的终结。</button>
    <div style="position:absolute;display: flex; left: 10px; top:120px; justify-content: center; align-items: center; inline-size: 500px;">
        <p id="newstitle" style="position: absolute;color: #000000; text-align: center; font-family: Type; font-size: 20px;">德国内战</p>
    </div>
        <span id="newsbody" style="position: absolute;left:195px; top:140px;color: #000000;inline-size: 300px;text-align: left; font-family: Type; font-size: 14px;white-space: pre-line;">在阿道夫·希特勒去世后，德国旋即陷入混乱。尽管元首指定了合法的继任者，但德国国内的强大派系已经开始拿起武器，互相对抗，打算将国家引导向自己的期望。国家已被分裂，整支整支的驻军无视来自日耳曼尼亚的命令，并倒向他们选择的继任者。虽然局势的严重程度尚不清楚，但据估计，德国要么正在面临要么已经经历了中央权威的彻底崩溃。
            
虽然还不大清楚德国东部领地的命运将会如何，但日耳曼尼亚与她的殖民领之间突然断绝了联系，这已经引发了这些地区是否也会自行寻找出路的猜测。然而，有一点毫无疑问，这个欧洲巨人的崩溃已经使整个欧陆陷入分崩离析之中。</span>
</div>


<div class="draggable" id="superwindow" style="position: absolute; left: 315px;top: 250px; z-index: 4;user-select: none;" onclick="dragElement(this)" ondrag="dragElement(this)">
    <img src="template/super_frame.png" style="position: relative;width: 600px;z-index: 2;">
    <div style="position:absolute;position:absolute; width:590px;height:404px;top:52px;left: 5px;">
        <img id="superpic" class="pic" src="preset/german_civil_war.png" style="position:absolute; top:0; left:0; height: inherit; width: inherit;">
    </div>
    <div style="position:absolute; top: 390px; left: 322px;display: flex; justify-content: center; align-items: center;" >
        <img src="template/superevent_text_underlay.png" style="position:absolute;">
    </div>
    <button id="superbutton" onclick="document.getElementById('sfxcheck').play();" style="position:absolute; top: 470px; left: 120px; transition: 0.2s; background: url('template/button_359x34.png') no-repeat; border: none; width: 352px; height: 32px; font-family:Bombardier,FZWen;font-size: 19px;color: #cccccc;z-index: 2;  " onmouseover="this.style.opacity = 0.8" onmouseleave="this.style.opacity = 1">风云已起</button>
    <div style="position:absolute;display: flex; left: 11px; top:27px; justify-content: center; align-items: center; inline-size: 570px;">
        <p id="supertitle" style="position: absolute;color: #b2c9c2; text-align: center; font-family:Aldrich,FZRui; font-size: 20px;z-index: 2;">德国内战</p>
    </div>
        <p id="supermotto" style="position: absolute;right:10px; top:305px;color: #cccccc;inline-size: 520px;text-align: left; font-family: Type; font-size: 22px;font-family:Bombardier,FZWen; text-align: right;white-space: pre-line; letter-spacing: -2px;">因此，所有人都必须认识到这一点：
与国家的存在相比，他的自我毫无意义。
- 阿道夫·希特勒</p>
</div>


<div class="draggable resizable" id="desc" style="font-family:Aldrich,FZRui; font-size: 12px; left: 12px;top: 255px; z-index: 4; line-height: 15px; color:#cccccc;background-color: #000c13;user-select: none; position: absolute; z-index: 3; width: 286px;word-wrap:break-word; height: auto;outline: 1px solid #7caaaa; padding: 7px;min-height:min-content; overflow: hidden;" onclick="dragElement(this)" ondrag="dragElement(this)">
    <!--<span id="leaderdesc" style="color:#cccc00"></span><br>
    <span id="leaderofen" style="color:#cccccc;display: none;">leader of </span>
        <div style="margin: 0px 0px 0px 9px; position:absolute; z-index: 3;display: inline; justify-content: center; align-items: center; height: 13px; width: 20px;" >
            <img id="descflag" style="left: 0px; margin: 0 -10px; height: inherit; width: inherit;">
        </div>
    <span id="countrydesc" style="color:#cccc00;margin-left: 20px;"></span>
    <span id="leaderofcn" style="color:#cccccc">的最高领导人</span>
    <br>-->
    <span id="detaildesc" style="white-space: pre-line;color: #c2ac89;">{leader}
{flag}----{country} 的最高领导人
------------------------------------------------------------
        元首已不幸病故，举国震惊。毕竟，谁能想到这位不可战胜之人会这样死去呢？
但国会对此早有准备。

尽管元首早已点出他的继承者，但政府内部依然各执一词。改革派、保守派、强硬派、狂热派互相撕咬，和平有序进行权力交接的幌子顷刻间烟消云散。斗争的结果是，一群中间派、无名官僚和不受其他派系欢迎的国会议员们联合起来，遵循着三十年来为众人所忽视的宪法，宣布成立过渡行政机关，直至新任元首宣誓就职。

元首之位的主要竞争者都对紧急委员会漠不关心，对他们而言，委员会充其量只是群坐冷板凳的家伙；若以冷眼观之，那么他们就是桀骜不驯的叛徒。唯一值得欣慰的是，他们的存在给日耳曼尼亚带来了一丝脆弱的稳定，防止这座城市陷入混乱，如此便可能会有一位更有能力的领导人出来重掌大局，希望如此。他们或许可以保住罗马不在烈火中化为废墟，却无法阻止帝国的其他部分被烈焰所吞噬。</span>
</div>

<div id="sidebar" style="outline: 1px solid #cccc0088; font-family:Aldrich,FZRui; transition: 0.3s; transition-timing-function: ease-in-out; height: 100%; width: max-content; position: fixed;z-index: 12;top: 0;right: 0;color: #cccccc; background-color: #00000077;overflow-x: hidden; line-height: 27px; font-size: 15px; user-select: none;scrollbar-width: none; -webkit-scrollbar:none">

    <div id="tabs" style="font-family: Aldrich,FZRui; outline: none; background-color: #00000077;">
        <ul style="background-color: #00000077;">
          <li style="background-color: #338888;"><a href="#basics" onclick="document.getElementById('sfxsubmenu').play();">基本信息</a></li>
          <li style="background-color: #338888;"><a href="#data" onclick="document.getElementById('sfxsubmenu').play();">数据</a></li>
          <li style="background-color: #338888;"><a href="#pictures" onclick="document.getElementById('sfxsubmenu').play();">图片</a></li>
          <li style="background-color: #338888;"><a href="#description" onclick="document.getElementById('sfxsubmenu').play();">介绍</a></li>
          <li style="background-color: #338888;"><a href="#control" onclick="document.getElementById('sfxsubmenu').play();">控制面板</a></li>
        </ul>
        <audio id="sfxsubmenu" src="sfx/click_default.wav" preload="auto"></audio>

        <div id="basics" style="color: #cccccc;">
            <label>国家：</label><br><input id="countryinput" placeholder="国家名称"><br>
            <label>阵营：</label><br><input id="factiontextinput" placeholder="阵营名称"><br>
            <label>领导人：</label><br><input id="leaderinput" placeholder="领导人名称"><br><br>
            <label>党派：</label><br><input id="partyinput" placeholder="党派名称"><br>
            <label>意识形态：</label><br><input id="ideologytextinput" placeholder="意识形态"><br>
            <label>选举：</label><br><input id="electioninput" placeholder="选举"><br><br>
            <label>国策：</label><br><input id="focustextinput" placeholder="国策">
            <p>若出现字体异常，新闻字体颜色异常等，<br>请尝试：停用黑暗模式，更换浏览器。<br>若无效，欢迎<a style="color: #cccccc;" href="https://github.com/HittyGubby/TNOCreator/issues">提Issue</a>！</p>
        </div>
<input type="file" id="fileInput" style="display: none;">
    <div id="data" style="color: #cccccc;">
        <label style="color: #cccc00;">国策进度：</label><input type="number" id="focusproginput" placeholder="国策进度" style="width: 52%; float: right;" oninput="document.getElementById('progressbar').style.width=`${this.value * 237 / 100}px`" min="0" max="100">
        <div id="poplist" style="line-height: 30px;">
            <label style="color: #cccc00;">饼图角度：</label><input type="number" placeholder="任意"><br>
            <label style="color: #0acc00;">虚无主义：</label><input><br>
            <label style="color: #2d0033;">秘传纳粹主义：</label><input><br>
            <label style="color: #141414;">极端民族主义：</label><input><br>
            <label style="color: #692500;">国家社会主义：</label><input><br>
            <label style="color: #9c6d00;">法西斯主义：</label><input><br>
            <label style="color: #666666;">专制主义：</label><input><br>
            <label style="color: #b0b0b0;">家长制民主：</label><input><br>
            <label style="color: #0700d6;">保守主义：</label><input><br>
            <label style="color: #0083c9;">自由保守主义：</label><input><br>
            <label style="color: #00d5ff;">自由主义：</label><input><br>
            <label style="color: #c8009a;">进步主义：</label><input><br>
            <label style="color: #d90000;">社会主义：</label><input><br>
            <label style="color: #950000;">共产主义：</label><input><br>
        </div>
    </div>

        <div id="pictures" style="color: #cccccc;">
            <p style="color: red;">每个图片输入都包括两个输入框<br>第一个输入框是原版素材(已转png)，输入可以查询<br>第二个是用户上传的素材，也可以查询</p>
            <div id="piccontainer"></div>
            <button id="checkboxshared" style="color: #cccccc; border: none; width: 300px; height: 34px; font-family:Aldrich,FZRui;background:url('template/generic_checkbox_unchecked.png') no-repeat;" onclick="checkshare()">共享上传的图片素材</button>
            <br>
            <button id="checkboxqueryshared" style="color: #cccccc; border: none; width: 300px; height: 34px; font-family:Aldrich,FZRui;background:url('template/generic_checkbox_unchecked.png') no-repeat;" onclick="checkqueryshare()">查询包括他人上传的素材</button>
        </div>

        <div id="description" style="color: #cccccc;">
            <label>领导人介绍：</label><br>
            <textarea id="detaildescinput" class="input" oninput="update(this)" placeholder="领导人介绍"></textarea><br><br>
            <label>超事件标题：</label><br><input id="supertitleinput" placeholder="超事件标题"><br>
            <label>超事件名言：</label><br>
            <textarea id="supermottoinput" class="input" oninput="update(this)" placeholder="超事件名言"></textarea><br>
            <label>超事件按钮：</label><br><input id="superbuttoninput" placeholder="超事件按钮"><br><br>
            <label>新闻标题：</label><br><input id="newstitleinput" placeholder="新闻标题"><br>
            <label>新闻内容：</label><br>
            <textarea id="newsbodyinput" class="input" oninput="update(this)" placeholder="新闻内容"></textarea><br>
            <label>新闻按钮：</label><br><input id="newsbuttoninput" placeholder="新闻按钮"><br>
        </div>

        <div id="control" style="color: #cccccc;">
        <div id="controlbuttons">
            <span>语言：</span>
            <button id="lang" onclick="langchange()" style="float: right;">中文</button><br><br>
            <span>背景颜色：</span>
            <input id="backgroundinput" style="width: 50%; float: right;" oninput="document.body.style.backgroundColor = document.getElementById('backgroundinput').value" placeholder="支持透明度！" value="rgb(51, 51, 51)"><br>
            <!--<span id="screenshotprogress" style="color:#cccc00;"></span><br>-->
            <br>
            <button id="screenshot" onclick="screenshot()">截图</button>
            <button id="screenshotpiechart" onclick="screenshotpiechart()">截饼图</button>
            <br>
            <!--<span>截图缩放：</span>
            <input id="screenshotscale" value="2" placeholder="正整数" style="width: 50%;float: right;" type="number" min="1">-->
        </div>
        <br>
        <div id="checkboxs">
            <button class="checkbox" id="checkboxdesc" style="background:url('template/generic_checkbox_checked.png') no-repeat;font-family: Aldrich,FZRui;" onclick="check(this)">介绍窗口</button>
            <button class="checkbox" id="checkboxecon" style="background:url('template/generic_checkbox_checked.png') no-repeat;font-family: Aldrich,FZRui;" onclick="check(this)">经济窗口</button><br>
            <button class="checkbox" id="checkboxnewswindow" style="background:url('template/generic_checkbox_checked.png') no-repeat;font-family: Aldrich,FZRui;" onclick="check(this)">新闻窗口</button>
            <button class="checkbox" id="checkboxsuperwindow" style="background:url('template/generic_checkbox_checked.png') no-repeat;font-family: Aldrich,FZRui;" onclick="check(this)">超事件窗口</button>
            <audio id="sfxcheck" src="sfx/click_checkbox.wav" preload="auto"></audio>
        </div><br>
            <span>管理预设：</span>
            <br>
            <input id="filenameinput" style=" width: 100%;" placeholder="要保存的文件名">
        <div id="presetbuttons">
            <button id="downloadJson" onclick="downloadjson()">下载预设</button>
            <button id="uploadJson" style="float: right;">上传预设</button><br>
            <button id="loginunfoldButton" onclick="loginunfold()">登录</button>
            <button id="loginButton" style="display: none;" onclick="login()">登录</button>
            <button id="logoutButton" style="display: none;" onclick="logout()">注销</button>
            <button id="saveButton" style="float: right;" onclick="savejson()">保存到服务器</button>
        </div>
            <div id="presetList" class="autocomp"></div>
            <input id="username" style="width: 48%; display: none;" placeholder="用户名">
            <input id="password" style="width: 43%; position: absolute; display: none;" placeholder="密码">
        </div>
      </div>

    <audio id="sfxclosewindow" src="sfx/click_window_close.wav" preload="auto"></audio>
    <audio id="sfxopenwindow" src="sfx/click_window_open.wav" preload="auto"></audio>
    <button id="sidebarbutton" style="color: #cccccc;position: fixed;bottom: 10px;right: 10px;z-index: 12; transition: 0.3s; background: url('template/button_123x34.png') no-repeat; border: none; width: 123px; height: 34px; font-family:Aldrich,FZRui;"  onclick="sidebartoggle()">隐藏侧栏</button>
</div>
</body>
</html>
